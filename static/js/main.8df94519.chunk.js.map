{"version":3,"sources":["components/JangdanboGrid.js","App.js","index.js"],"names":["sounds","mu","Audio","process","c_hwang","c_tae","im","joong","c_joong","c_im","c_mu","items","id","name","type","image","GridCell","_ref","index","onDrop","cellHeight","ref","useDrop","accept","drop","droppedItem","_jsx","className","style","height","children","map","item","i","_jsxs","React","Fragment","src","alt","width","position","top","concat","length","left","backgroundColor","DraggableItem","_ref2","useDrag","JangdanboGrid","grid","setGrid","useState","Array","fill","mode","setMode","handleDrop","newGrid","playSound","duration","Promise","resolve","audio","currentTime","play","setTimeout","pause","getCellHeight","maxItems","forEach","DndProvider","backend","HTML5Backend","onClick","async","j","resetGrid","App","ReactDOM","createRoot","document","getElementById","render","StrictMode"],"mappings":"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","file":"static/js/main.8df94519.chunk.js","sourcesContent":["import React, { useState } from 'react';\r\nimport { useDrag, useDrop, DndProvider } from 'react-dnd';\r\nimport { HTML5Backend } from 'react-dnd-html5-backend';\r\nimport './JangdanboGrid.css';\r\n\r\nconst sounds = {\r\n  mu: new Audio(process.env.PUBLIC_URL + '/sounds/mu_sound.mp3'),\r\n  c_hwang: new Audio(process.env.PUBLIC_URL + '/sounds/c.hwang_sound.mp3'),\r\n  c_tae: new Audio(process.env.PUBLIC_URL + '/sounds/c.tae_sound.mp3'),\r\n  im: new Audio(process.env.PUBLIC_URL + '/sounds/im_sound.mp3'),\r\n  joong: new Audio(process.env.PUBLIC_URL + '/sounds/joong_sound.mp3'),\r\n  c_joong: new Audio(process.env.PUBLIC_URL + '/sounds/c.joong_sound.mp3'),\r\n  c_im: new Audio(process.env.PUBLIC_URL + '/sounds/c.im_sound.mp3'),\r\n  c_mu: new Audio(process.env.PUBLIC_URL + '/sounds/c.mu_sound.mp3')\r\n};\r\n\r\nconst items = [\r\n  { id: 3, name: '중', type: 'joong', image: '/images/joong.png' },\r\n  { id: 2, name: '임', type: 'im', image: '/images/im.png' },\r\n  { id: 4, name: '무', type: 'mu', image: '/images/mu.png' },\r\n  { id: 5, name: '청황', type: 'c_hwang', image: '/images/c.hwang.png' },\r\n  { id: 1, name: '청태', type: 'c_tae', image: '/images/c.tae.png' },\r\n  { id: 6, name: '청중', type: 'c_joong', image: '/images/c.joong.png' },\r\n  { id: 7, name: '청임', type: 'c_im', image: '/images/c.im.png' },\r\n  { id: 8, name: '청무', type: 'c_mu', image: '/images/c.mu.png' }\r\n];\r\n\r\nconst GridCell = ({ index, onDrop, items, cellHeight }) => {\r\n  const [, ref] = useDrop({\r\n    accept: 'ITEM',\r\n    drop: (droppedItem) => onDrop(index, droppedItem),\r\n  });\r\n\r\n  return (\r\n    <div ref={ref} className=\"grid-cell\" style={{ height: cellHeight }}>\r\n      {items.map((item, i) => (\r\n        <React.Fragment key={i}>\r\n          <img\r\n            src={process.env.PUBLIC_URL + item.image}\r\n            alt={item.name}\r\n            style={{\r\n              width: '40px',\r\n              height: '40px',\r\n              position: 'absolute',\r\n              top: `${i * 40}px`,\r\n            }}\r\n          />\r\n          {i < items.length - 1 && (\r\n            <div\r\n              style={{\r\n                position: 'absolute',\r\n                top: `${(i + 1) * 40 - 1}px`,\r\n                left: 0,\r\n                width: '100%',\r\n                height: '1px',\r\n                backgroundColor: 'black',\r\n              }}\r\n            />\r\n          )}\r\n        </React.Fragment>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst DraggableItem = ({ item }) => {\r\n  const [, ref] = useDrag({\r\n    type: 'ITEM',\r\n    item,\r\n  });\r\n\r\n  return (\r\n    <div ref={ref} className=\"draggable-item\">\r\n      <img src={process.env.PUBLIC_URL + item.image} alt={item.name} style={{ width: '40px', height: '40px' }} />\r\n    </div>\r\n  );\r\n};\r\n\r\nconst JangdanboGrid = () => {\r\n  const [grid, setGrid] = useState(Array(20).fill([])); // 20칸으로 설정\r\n  const [mode, setMode] = useState('1'); // 기본 모드는 '1'\r\n\r\n  const handleDrop = (index, item) => {\r\n    const newGrid = [...grid];\r\n    if (mode === '1') {\r\n      newGrid[index] = [item];\r\n    } else {\r\n      if (newGrid[index].length < mode) {\r\n        newGrid[index] = [...newGrid[index], item];\r\n      }\r\n    }\r\n    setGrid(newGrid);\r\n  };\r\n\r\n  const playSound = (item, duration) => {\r\n    return new Promise((resolve) => {\r\n      const audio = sounds[item.type];\r\n      audio.currentTime = 0; // 재생을 처음부터 시작\r\n      audio.play();\r\n      setTimeout(() => {\r\n        audio.pause();\r\n        resolve();\r\n      }, duration);\r\n    });\r\n  };\r\n\r\n  const playAllSounds = async () => {\r\n    for (let i = 0; i < 5; i++) { // 5개의 줄로 변경\r\n      for (let j = 0; j < 4; j++) {\r\n        const index = 4 * j + (4 - i);\r\n        const items = grid[index];\r\n        if (items.length > 0) {\r\n          const duration = 1000 / items.length;\r\n          for (let item of items) {\r\n            await playSound(item, duration);\r\n          }\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  const resetGrid = () => {\r\n    setGrid(Array(20).fill([])); // 20칸으로 설정\r\n  };\r\n\r\n  // 모든 칸의 높이를 결정하는 함수\r\n  const getCellHeight = () => {\r\n    let maxItems = 1;\r\n    grid.forEach(items => {\r\n      if (items.length > maxItems) maxItems = items.length;\r\n    });\r\n    return `${40 * maxItems}px`;\r\n  };\r\n\r\n  const cellHeight = getCellHeight();\r\n\r\n  return (\r\n    <DndProvider backend={HTML5Backend}>\r\n      <div className=\"App\">\r\n        <header className=\"App-header\">\r\n          <h1>국악 교육 프로그램</h1>\r\n          <div>\r\n            <button className={mode === '1' ? 'selected' : ''} onClick={() => setMode('1')}>1분박</button>\r\n            <button className={mode === '2' ? 'selected' : ''} onClick={() => setMode('2')}>2분박</button>\r\n            <button className={mode === '3' ? 'selected' : ''} onClick={() => setMode('3')}>3분박</button>\r\n          </div>\r\n          <div className=\"item-container\">\r\n            {items.map((item) => (\r\n              <DraggableItem key={item.id} item={item} />\r\n            ))}\r\n          </div>\r\n          <div className=\"grid-container\">\r\n            {grid.map((items, index) => (\r\n              <GridCell key={index} index={index} items={items} onDrop={handleDrop} cellHeight={cellHeight} />\r\n            ))}\r\n          </div>\r\n          <button onClick={playAllSounds}>재생</button>\r\n          <button onClick={resetGrid}>초기화</button>\r\n        </header>\r\n      </div>\r\n    </DndProvider>\r\n  );\r\n};\r\n\r\nexport default JangdanboGrid;\r\n","import React from 'react';\nimport './App.css';\nimport JangdanboGrid from './components/JangdanboGrid';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <h1>국악 교육 프로그램</h1>\n        <JangdanboGrid />\n      </header>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport App from './App';\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n"],"sourceRoot":""}